import{r as c,j as e,I as b,T as f,f as L,B as T,a as H,P as j,b as A,M as Q,c as C,W as V}from"./index-020e2e03.js";import{d as $,c as q,a as z,g as G,r as U,u as J,b as X,s as K,e as Y}from"./firebase-c7337e73.js";import{f as Z,G as S,F as _,S as ee,A as te,a as se,l as D,I as oe,R as ne,M as y}from"./image-resize.min-4653f384.js";import{S as d,C as N,I as re,a as ie}from"./InputAdornment-cb28400c.js";import{L as ae}from"./Link-cdaa5176.js";import{C as F}from"./Container-724db142.js";function B({post:a,index:t}){const{cover:n,title:l,view:u,content:p,comment:h,share:r,createdAt:x}=a,s=t===0,i=t===1||t===2,[I,w]=c.useState(!1),P=()=>{w(!0)},k=e.jsx(ae,{color:"inherit",variant:"subtitle2",underline:"hover",sx:{height:44,overflow:"hidden",WebkitLineClamp:2,display:"-webkit-box",WebkitBoxOrient:"vertical",...s&&{typography:"h5",height:60},...(s||i)&&{color:"common.white"}},children:e.jsx(f,{onClick:P,children:l})}),o=e.jsx(d,{direction:"row",flexWrap:"wrap",spacing:1.5,justifyContent:"flex-end",sx:{mt:3,color:"text.disabled"},children:[{number:h,icon:"eva:message-circle-fill"},{number:u,icon:"eva:eye-fill"},{number:r,icon:"eva:share-fill"}].map((g,W)=>e.jsxs(d,{direction:"row",sx:{...(s||i)&&{opacity:.48,color:"common.white"}},children:[e.jsx(b,{width:16,icon:g.icon,sx:{mr:.5}}),e.jsx(f,{variant:"caption",children:Z(g.number)})]},W))}),m=e.jsx(T,{component:"img",alt:l,src:n,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}}),v=e.jsx(f,{variant:"caption",component:"div",sx:{mb:2,color:"text.disabled",...(s||i)&&{opacity:.48,color:"common.white"}},children:L(x)}),R=e.jsx(ee,{color:"paper",src:"/assets/icons/shape-avatar.svg",sx:{width:80,height:36,zIndex:9,bottom:-15,position:"absolute",color:"background.paper",...(s||i)&&{display:"none"}}});return e.jsxs(S,{xs:12,sm:s?12:6,md:s?6:3,children:[e.jsxs(N,{children:[e.jsxs(T,{sx:{position:"relative",pt:"calc(100% * 3 / 4)",...(s||i)&&{pt:"calc(100% * 4 / 3)","&:after":{top:0,content:"''",width:"100%",height:"100%",position:"absolute",bgcolor:g=>H(g.palette.grey[900],.72)}},...s&&{pt:{xs:"calc(100% * 4 / 3)",sm:"calc(100% * 3 / 4.66)"}}},children:[R,m]}),e.jsxs(T,{sx:{p:g=>g.spacing(4,3,3,3),...(s||i)&&{width:1,bottom:0,position:"absolute"}},children:[k,v,o]})]}),e.jsx(_,{open:I,onClose:()=>w(!1),richText:p,title:l})]})}B.propTypes={post:j.object.isRequired,index:j.number};E.propTypes={options:j.array,onSort:j.func};function E({options:a,onSort:t}){return e.jsx(A,{select:!0,size:"small",value:"latest",onChange:t,children:a.map(n=>e.jsx(Q,{value:n.value,children:n.label},n.value))})}M.propTypes={posts:j.array.isRequired};function M({posts:a}){return e.jsx(te,{sx:{width:280},autoHighlight:!0,popupIcon:null,slotProps:{paper:{sx:{width:320,[`& .${se.option}`]:{typography:"body2"}}}},options:a,getOptionLabel:t=>t.title,isOptionEqualToValue:(t,n)=>t.id===n.id,renderInput:t=>e.jsx(A,{...t,placeholder:"Search articles...",InputProps:{...t.InputProps,startAdornment:e.jsx(re,{position:"start",children:e.jsx(b,{icon:"eva:search-fill",sx:{ml:1,width:20,height:20,color:"text.disabled"}})})}})})}D.Quill.register("modules/imageResize",oe);const O=({onClose:a})=>{const[t,n]=c.useState(""),[l,u]=c.useState(""),[p,h]=c.useState(null),[r,x]=c.useState(!1),s={height:"300px",width:"100%",overflow:"auto"},i=o=>{u(o)},I=o=>{const m=o.target.files[0];m&&h(m)},w=async()=>{x(!0);try{if(!p){alert("Please select an image"),x(!1);return}const o=$(q(z,"posts")),m=G(),v=U(m,`posts/${p.name}`);await J(v,p);const R=await X(v);await K(o,{id:o.id,cover:R,title:t,content:l,createdAt:L(new Date),view:1002,comment:200,share:20,favorite:50}),console.log("Product added with ID:",o.id),a()}catch(o){console.error("Error adding product:",o)}finally{x(!1)}},P={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1},imageResize:{parchment:D.Quill.import("parchment"),modules:["Resize","DisplaySize"]}},k=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"];return e.jsx("form",{children:e.jsxs(d,{spacing:2,children:[e.jsx(A,{label:"Title",value:t,onChange:o=>n(o.target.value),fullWidth:!0,required:!0}),e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
            @media (min-width: 768px) {
              .quill-wrapper {
                height: 400px; // Larger height on larger screens
              }
            }
          `}),e.jsx("div",{className:"quill-wrapper",style:s,children:e.jsx(ne,{theme:"snow",value:l,onChange:i,modules:P,formats:k,bounds:".quill-wrapper",placeholder:"Write here",required:!0})})]}),e.jsxs(d,{direction:"row",spacing:2,style:{marginTop:"20px"},children:[e.jsx("input",{id:"file-input",type:"file",accept:"image/*",onChange:I,required:!0}),e.jsx(C,{onClick:w,variant:"contained",color:"primary",disabled:r,children:r?e.jsx(ie,{size:24}):"Add Post"})]})]})})};O.propTypes={onClose:j.func.isRequired};const le=O,ce={gradientBackground:{background:"linear-gradient(to bottom right, #ADD8E6, #FFFFFF)",padding:"20px",borderRadius:"10px",height:"100%"},fab:{position:"fixed",bottom:20,right:20},arrow:{position:"absolute",bottom:"-20px",left:"50%",transform:"translateX(-50%)",width:"0",height:"0",borderTop:"20px solid transparent",borderBottom:"20px solid #3f51b5",borderLeft:"20px solid transparent"},typography:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:1,color:"white"}};function de(){const[a,t]=c.useState(!1),n=()=>t(!0),l=()=>t(!1),[u,p]=c.useState([]);return c.useEffect(()=>{(async()=>{try{const r=q(z,"posts"),s=(await Y(r)).docs.map(i=>i.data());p(s)}catch(r){console.error("Error fetching posts:",r)}})()},[]),e.jsxs("section",{children:[e.jsx("div",{children:e.jsx(F,{fluid:!0,className:"page-section",id:"home",children:e.jsx(N,{style:ce.gradientBackground,children:e.jsx(S,{direction:"row",children:e.jsx(S,{item:!0,xs:12,md:8,children:e.jsxs(d,{children:[e.jsx("div",{children:e.jsx("div",{className:"reveal",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"heading-name",children:["Welcome to ",e.jsx("br",{}),e.jsx("strong",{className:"main-name",children:"Art and Hearts"})]}),e.jsx("b",{children:e.jsxs("div",{className:"innerReveal",children:["Changing lives",e.jsx("br",{}),"Restoring hope",e.jsx("br",{}),"Igniting potential",e.jsx("br",{}),"Empowering comunities",e.jsx("br",{}),"Leading the way"]})})]})})}),e.jsx(f,{sx:{textAlign:"center",fontSize:"1.2rem",lineHeight:"1.5",color:"#666"},children:"Join us in making a difference! Discover ways to contribute, participate in events, and explore how your support helps the community."}),e.jsxs(d,{justifyContent:"flex-end",direction:"row",alignItems:"right",spacing:2,sx:{mt:2},children:[e.jsx(C,{variant:"contained",sx:{mt:1,bgcolor:"#e74c3c"},endIcon:e.jsx(b,{icon:"la:donate"}),children:"Donate Now"}),e.jsx(C,{variant:"contained",sx:{mt:1,bgcolor:"#e74c3c"},endIcon:e.jsx(b,{icon:"ei:external-link"}),children:"Learn More"})]})]})})})})})}),e.jsxs(F,{children:[e.jsxs(d,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:[e.jsx(f,{variant:"h4",children:"Art"}),e.jsx(C,{variant:"contained",sx:{mt:1,bgcolor:"#e74c3c"},startIcon:e.jsx(b,{icon:"eva:plus-fill"}),onClick:n,children:"New Post"})]}),e.jsxs(d,{mb:5,direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(M,{posts:u}),e.jsx(E,{sx:{mt:1,bgcolor:"#e74c3c",color:"#e74c3c"},options:[{value:"latest",label:"Latest"},{value:"popular",label:"Popular"},{value:"oldest",label:"Oldest"}]})]}),e.jsx(S,{container:!0,spacing:3,children:u.map((h,r)=>e.jsx(B,{post:h,index:r},h.id))})]}),e.jsxs(y,{show:a,onHide:l,children:[e.jsx(y.Header,{closeButton:!0,children:e.jsx(y.Title,{children:"Add New Post"})}),e.jsx(y.Body,{children:e.jsx(le,{onClose:l})})]})]})}function je(){return e.jsxs(e.Fragment,{children:[e.jsx(V,{children:e.jsx("title",{children:" Bridge Of Hope "})}),e.jsx(de,{})]})}export{je as default};
